## WAS

#### 용어

- 클라이언트 : 서버에게 서비스를 요청하고 유저에게 보여줌
- 서버 : 클라이언트로부터 받은 요청에 대한 서비스를 제공해줌.
- DBMS : 데이터베이스를 관리하는 시스템
	- 기존에는 클라이언트가 서버 내의 DBMS 에 직접 요청을 했었는데 이 경우 여러가지 단점이 발생
	- 클라이언트 측의 복잡한 로직, 보안에 취약, 요청 로직의 변경이 있을 경우 클라이언트에 재배포 등
- 미들웨어 : 기존의 문제점을 해결하기 위해 등장. 클라이언트와 서버(예: DBMS) 사이에 또 다른 서버를 두는 방식, 
	- 클라이언트는 단순히 요청만 중앙에 있는 서버(미들웨어)에게 보내고, 미들웨어에서는 대부분의 로직을 수행함. 
	- 데이터를 조작할 일이 있으면 DBMS에게 부탁, 그 결과를 클라이언트에게 전송
	- 클라이언트는 복잡한 로직이 필요없이 요청만 하고 결과만 보여주면 됨 -> 크기가 작아짐
	- 로직이 변경되어도 미들웨어의 로직만 변경하면 됨
- WAS : 일종의 미들웨어로 웹 클라이언트의 요청 중 보통 웹 어플리케이션이 동적으로 동작하도록 지원하는 목적을 가짐 (tomcat)
	- 프로그램 실행 환경과 데이터베이스 접속 기능을 제공
	- 여러 개의 트랜잭션을 관리
	- 업무를 처리하는 비즈니스 로직을 수행
	- 웹서버의 기능도 제공


#### 웹 서버 vs WAS
![was](was.png)

- WAS도 보통 자체적으로 웹 서버 기능을 내장
- 현재는 WAS 가 가지고 있는 웹 서버도 정적인 컨텐츠를 처리하는데 있어서 성능상 큰 차이 x
- 하지만 웹 서버는 상대적으로 WAS보다 간단한 구조로 만들어져 있음
- 사람들이 많이 접속하는 대용량 웹 어플리케이션의 경우, 서버의 수가 여러 대
- WAS 에서 동작하도록 개발자가 만든 프로그램이 오작동이 발생해서 WAS 자체에 문제가 생길 수도 있음
- 이 경우 WAS 를 재시작해야 하는데, 웹 서버에서 WAS 를 이용하지 못하도록 하고 WAS 를 재시작 한다면 유저는 문제가 발생하였는지를 모르고 이용 가능 (장애 극복 기능 (fail over))
- 무중단으로 운영하기 위해 상당히 중요한 기능이기에, 웹서버가 WAS 앞단에서 동작하도록 하는 경우가 많음